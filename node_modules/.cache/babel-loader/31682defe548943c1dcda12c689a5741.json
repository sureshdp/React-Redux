{"ast":null,"code":"import { handleResponse, handleError } from \"./apiUtils\";\nconst baseUrl = process.env.REACT_APP_API_URL + \"/courses/\";\nexport function getCourses() {\n  return fetch(baseUrl).then(handleResponse).catch(handleError);\n}\nexport function getCourseBySlug(slug) {\n  return fetch(baseUrl + \"?slug=\" + slug).then(response => {\n    if (!response.ok) throw new Error(\"Network response was not ok.\");\n    return response.json().then(courses => {\n      if (courses.length !== 1) throw new Error(\"Course not found: \" + slug);\n      return courses[0]; // should only find one course for a given slug, so return it.\n    });\n  }).catch(handleError);\n}\nexport function saveCourse(course) {\n  return fetch(baseUrl + (course.id || \"\"), {\n    method: course.id ? \"PUT\" : \"POST\",\n    // POST for create, PUT to update when id already exists.\n    headers: {\n      \"content-type\": \"application/json\"\n    },\n    body: JSON.stringify({ ...course,\n      // Parse authorId to a number (in case it was sent as a string).\n      authorId: parseInt(course.authorId, 10)\n    })\n  }).then(handleResponse).catch(handleError);\n}\nexport function deleteCourse(courseId) {\n  return fetch(baseUrl + courseId, {\n    method: \"DELETE\"\n  }).then(handleResponse).catch(handleError);\n}","map":{"version":3,"sources":["/Users/dsuresh/LearnReact/ps-flux/src/api/courseApi.js"],"names":["handleResponse","handleError","baseUrl","process","env","REACT_APP_API_URL","getCourses","fetch","then","catch","getCourseBySlug","slug","response","ok","Error","json","courses","length","saveCourse","course","id","method","headers","body","JSON","stringify","authorId","parseInt","deleteCourse","courseId"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,WAAzB,QAA4C,YAA5C;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAgC,WAAhD;AAEA,OAAO,SAASC,UAAT,GAAsB;AAC3B,SAAOC,KAAK,CAACL,OAAD,CAAL,CACJM,IADI,CACCR,cADD,EAEJS,KAFI,CAEER,WAFF,CAAP;AAGD;AAED,OAAO,SAASS,eAAT,CAAyBC,IAAzB,EAA+B;AACpC,SAAOJ,KAAK,CAACL,OAAO,GAAG,QAAV,GAAqBS,IAAtB,CAAL,CACJH,IADI,CACCI,QAAQ,IAAI;AAChB,QAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB,MAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;AAClB,WAAOF,QAAQ,CAACG,IAAT,GAAgBP,IAAhB,CAAqBQ,OAAO,IAAI;AACrC,UAAIA,OAAO,CAACC,MAAR,KAAmB,CAAvB,EAA0B,MAAM,IAAIH,KAAJ,CAAU,uBAAuBH,IAAjC,CAAN;AAC1B,aAAOK,OAAO,CAAC,CAAD,CAAd,CAFqC,CAElB;AACpB,KAHM,CAAP;AAID,GAPI,EAQJP,KARI,CAQER,WARF,CAAP;AASD;AAED,OAAO,SAASiB,UAAT,CAAoBC,MAApB,EAA4B;AACjC,SAAOZ,KAAK,CAACL,OAAO,IAAIiB,MAAM,CAACC,EAAP,IAAa,EAAjB,CAAR,EAA8B;AACxCC,IAAAA,MAAM,EAAEF,MAAM,CAACC,EAAP,GAAY,KAAZ,GAAoB,MADY;AACJ;AACpCE,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAF+B;AAGxCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EACnB,GAAGN,MADgB;AAEnB;AACAO,MAAAA,QAAQ,EAAEC,QAAQ,CAACR,MAAM,CAACO,QAAR,EAAkB,EAAlB;AAHC,KAAf;AAHkC,GAA9B,CAAL,CASJlB,IATI,CASCR,cATD,EAUJS,KAVI,CAUER,WAVF,CAAP;AAWD;AAED,OAAO,SAAS2B,YAAT,CAAsBC,QAAtB,EAAgC;AACrC,SAAOtB,KAAK,CAACL,OAAO,GAAG2B,QAAX,EAAqB;AAAER,IAAAA,MAAM,EAAE;AAAV,GAArB,CAAL,CACJb,IADI,CACCR,cADD,EAEJS,KAFI,CAEER,WAFF,CAAP;AAGD","sourcesContent":["import { handleResponse, handleError } from \"./apiUtils\";\nconst baseUrl = process.env.REACT_APP_API_URL + \"/courses/\";\n\nexport function getCourses() {\n  return fetch(baseUrl)\n    .then(handleResponse)\n    .catch(handleError);\n}\n\nexport function getCourseBySlug(slug) {\n  return fetch(baseUrl + \"?slug=\" + slug)\n    .then(response => {\n      if (!response.ok) throw new Error(\"Network response was not ok.\");\n      return response.json().then(courses => {\n        if (courses.length !== 1) throw new Error(\"Course not found: \" + slug);\n        return courses[0]; // should only find one course for a given slug, so return it.\n      });\n    })\n    .catch(handleError);\n}\n\nexport function saveCourse(course) {\n  return fetch(baseUrl + (course.id || \"\"), {\n    method: course.id ? \"PUT\" : \"POST\", // POST for create, PUT to update when id already exists.\n    headers: { \"content-type\": \"application/json\" },\n    body: JSON.stringify({\n      ...course,\n      // Parse authorId to a number (in case it was sent as a string).\n      authorId: parseInt(course.authorId, 10)\n    })\n  })\n    .then(handleResponse)\n    .catch(handleError);\n}\n\nexport function deleteCourse(courseId) {\n  return fetch(baseUrl + courseId, { method: \"DELETE\" })\n    .then(handleResponse)\n    .catch(handleError);\n}\n"]},"metadata":{},"sourceType":"module"}